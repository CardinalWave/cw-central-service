<mxfile host="drawio-plugin" modified="2024-07-05T21:53:32.881Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36" etag="WPp-dVB3Q9ca9pHzg_OJ" version="22.1.22" type="embed">
  <diagram name="Page-1" id="2X0-96u4QmUKPSBAWyLH">
    <mxGraphModel dx="1420" dy="717" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="76" value="" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1250" y="300" width="200" height="190" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shape=link;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-1" target="vWa0U6T1P3jZfGN8kKXu-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-1" value="Users&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="460" y="427" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-2" value="UsersEntity" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="557" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-3" value="+ token: str" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="vWa0U6T1P3jZfGN8kKXu-2" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-4" value="+ username: str" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="vWa0U6T1P3jZfGN8kKXu-2" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-5" value="+ email: str" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="vWa0U6T1P3jZfGN8kKXu-2" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shape=link;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-12" target="vWa0U6T1P3jZfGN8kKXu-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-12" value="&lt;div&gt;Groups&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="670" y="448" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-13" value="GroupEntity" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="630" y="578" width="140" height="78" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-14" value="+ id: str" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="vWa0U6T1P3jZfGN8kKXu-13" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-15" value="+ title: str" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="vWa0U6T1P3jZfGN8kKXu-13" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=12 12;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-52" target="vWa0U6T1P3jZfGN8kKXu-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2840" y="554" />
              <mxPoint x="2840" y="554" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-52" target="vWa0U6T1P3jZfGN8kKXu-59" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2720" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;shape=link;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-52" target="vWa0U6T1P3jZfGN8kKXu-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-52" value="Login" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2630" y="524" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=12 12;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-53" target="vWa0U6T1P3jZfGN8kKXu-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-53" value="Group List" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="524" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-55" value="Chat Group" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6d8764;fontColor=#ffffff;strokeColor=#3A5431;" parent="1" vertex="1">
          <mxGeometry x="3130" y="524" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-59" target="vWa0U6T1P3jZfGN8kKXu-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-59" value="token" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2665" y="660" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-66" value="cw-auth-service" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;" parent="1" vertex="1">
          <mxGeometry x="2645" y="320" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-68" value="Usuários que estão utilizando no momento" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="420" y="677" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-69" value="users_groups" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="820" y="448" width="90" height="110" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-70" value="UsersGroupsEntity" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="795" y="578" width="140" height="130" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-71" value="+ id: str" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="vWa0U6T1P3jZfGN8kKXu-70" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-72" value="+ email: str" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="vWa0U6T1P3jZfGN8kKXu-70" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-75" value="+ group_id: str" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="vWa0U6T1P3jZfGN8kKXu-70" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-76" value="+ updated_at: str" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="vWa0U6T1P3jZfGN8kKXu-70" vertex="1">
          <mxGeometry y="104" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=link;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-69" target="vWa0U6T1P3jZfGN8kKXu-70" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="864.72" y="572" as="sourcePoint" />
            <mxPoint x="864.72" y="622" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-77" target="vWa0U6T1P3jZfGN8kKXu-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-77" value="/user/login" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="400" y="337" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-78" target="vWa0U6T1P3jZfGN8kKXu-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-78" value="/user/logout" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="510" y="337" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-87" value="Users" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" parent="1" vertex="1">
          <mxGeometry x="2645" y="750" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=none;startArrow=classic;startFill=1;endArrow=none;endFill=0;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-89" target="vWa0U6T1P3jZfGN8kKXu-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-89" value="users_groups" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="688" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;shape=link;shadow=1;strokeWidth=3;fillColor=#a20025;exitX=0;exitY=0;exitDx=120;exitDy=50;exitPerimeter=0;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-94" target="35" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3510" y="749" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.477;entryY=0.007;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-94" target="48" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3332.506802721088" y="855" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-94" value="cw-message-service" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;fillColor=#6d8764;fontColor=#ffffff;strokeColor=#3A5431;" parent="1" vertex="1">
          <mxGeometry x="3170" y="709" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=49.99999999999999;entryDy=0;entryPerimeter=0;shape=link;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-55" target="vWa0U6T1P3jZfGN8kKXu-94" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.574;entryY=-0.021;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-53" target="vWa0U6T1P3jZfGN8kKXu-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-99" value="/group/list" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2800" y="520" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-100" value="/chat/join" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3170" y="494" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-105" target="vWa0U6T1P3jZfGN8kKXu-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="780" y="428" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="vWa0U6T1P3jZfGN8kKXu-105" target="vWa0U6T1P3jZfGN8kKXu-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-105" value="/group/list" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="750" y="348" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-110" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="2765" y="369" width="20" height="120" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-111" value="&lt;ul&gt;&lt;li&gt;token (temporario)&lt;/li&gt;&lt;li&gt;user_token (permanente)&lt;/li&gt;&lt;/ul&gt;" style="text;strokeColor=none;fillColor=none;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;" parent="1" vertex="1">
          <mxGeometry x="2760" y="380" width="200" height="81" as="geometry" />
        </mxCell>
        <mxCell id="vWa0U6T1P3jZfGN8kKXu-113" value="&lt;pre&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;user_token&lt;/font&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;rotation=0;" parent="1" vertex="1">
          <mxGeometry x="2770" y="566" width="120" height="44" as="geometry" />
        </mxCell>
        <mxCell id="32kXzzwJd7g3Jw-vZ3aj-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="32kXzzwJd7g3Jw-vZ3aj-1" target="32kXzzwJd7g3Jw-vZ3aj-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2950" y="820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="32kXzzwJd7g3Jw-vZ3aj-1" value="Register" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2640" y="860" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="32kXzzwJd7g3Jw-vZ3aj-3" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;UserGroup - join_user(global)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2970" y="860" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="26" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="3282.5" y="589" width="20" height="120" as="geometry" />
        </mxCell>
        <mxCell id="27" value="&lt;ul&gt;&lt;li&gt;secure_email&lt;/li&gt;&lt;li&gt;updated_at&lt;/li&gt;&lt;li&gt;group_id&lt;/li&gt;&lt;/ul&gt;" style="text;strokeColor=none;fillColor=none;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;" parent="1" vertex="1">
          <mxGeometry x="3282.5" y="612" width="200" height="81" as="geometry" />
        </mxCell>
        <mxCell id="29" value="- Ocorre quando o usuario selecionar um grupo&lt;br&gt;- Com o token/secure_email do usuario devidamente verificado&lt;br&gt;-envia uma requisicao asincrona para o cw-message-service&lt;br&gt;- Que devera carregar as ultimas mensagens possiveis de acordo com o horario do ultimo acesso do usuario (updated_at/UsersGroups)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3130" y="375" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="35" value="Chat send" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6d8764;fontColor=#ffffff;strokeColor=#3A5431;" parent="1" vertex="1">
          <mxGeometry x="3570" y="600" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="40" value="&lt;ul&gt;&lt;li&gt;secure_email&lt;/li&gt;&lt;li&gt;group_title&lt;/li&gt;&lt;/ul&gt;" style="text;strokeColor=none;fillColor=none;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;" parent="1" vertex="1">
          <mxGeometry x="3302.5" y="388.5" width="200" height="81" as="geometry" />
        </mxCell>
        <mxCell id="41" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="3302.5" y="380" width="20" height="120" as="geometry" />
        </mxCell>
        <mxCell id="43" value="- Ocorre quando o usuario envia uma mensagem a um grupo&lt;br&gt;- Com o token/secure_email do usuario devidamente verificado&lt;br&gt;-envia uma requisicao asincrona para o cw-message-service&lt;br&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3571" y="454" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="44" value="/chat/send" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3615" y="566" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="45" value="&lt;ul&gt;&lt;li&gt;secure_email&lt;/li&gt;&lt;li&gt;group&lt;/li&gt;&lt;li&gt;mensagem&lt;/li&gt;&lt;/ul&gt;" style="text;strokeColor=none;fillColor=none;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;" parent="1" vertex="1">
          <mxGeometry x="3760" y="508.5" width="200" height="81" as="geometry" />
        </mxCell>
        <mxCell id="46" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="3760" y="500" width="20" height="120" as="geometry" />
        </mxCell>
        <mxCell id="48" value="cw-mqtt-service" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;" parent="1" vertex="1">
          <mxGeometry x="3252.5" y="870" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="49" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;endWidth=54.78260869565218;endSize=23.82608695652174;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3510" y="830" as="sourcePoint" />
            <mxPoint x="3290" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="61" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1620" y="454.13" as="sourcePoint" />
            <mxPoint x="1500" y="454" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="65" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;startArrow=block;width=40;endSize=8.104347826086958;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1165" y="400" as="sourcePoint" />
            <mxPoint x="1250" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="81" value="WiFi" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="65" vertex="1" connectable="0">
          <mxGeometry x="0.1826" relative="1" as="geometry">
            <mxPoint x="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="67" value="ESPLAN" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;" parent="1" vertex="1">
          <mxGeometry x="1290" y="355" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="68" value="cw-bff-service" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;" parent="1" vertex="1">
          <mxGeometry x="1520" y="360" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.008;entryY=0.525;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0;exitDx=120.00000000000001;exitDy=50;exitPerimeter=0;" parent="1" source="67" target="68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="74" value="Web = cardinalwave.net" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="1050" y="330" width="130" height="110" as="geometry" />
        </mxCell>
        <mxCell id="77" value="HTML&amp;nbsp; - file" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1530.5" y="477" width="99" height="30" as="geometry" />
        </mxCell>
        <mxCell id="79" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;endWidth=31.22873345935728;endSize=12.434782608695654;width=35.652173913043484;startArrow=block;startWidth=31.22873345935728;startSize=9.773913043478261;entryX=0.55;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="76" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1180" y="470" as="sourcePoint" />
            <mxPoint x="1370" y="530" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1260" y="520" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="80" value="WebSocket" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="79" vertex="1" connectable="0">
          <mxGeometry x="0.0058" y="-1" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="84" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.479;exitY=-0.047;exitDx=0;exitDy=0;exitPerimeter=0;startArrow=classic;startFill=1;" parent="1" source="82" target="76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#f5f5f5;strokeColor=#666666;" parent="1" source="82" target="85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="82" value="cw-mqtt-gateway" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1460" y="532" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" source="85" target="86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="85" target="87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="85" value="cw-central-service" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1620" y="635" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="86" value="cw-auth-service" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1750" y="478" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="87" value="cw-message-service&lt;br&gt;" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1540" y="799" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="88" value="?cw-log-service" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1834" y="719" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=70;entryDy=80;entryPerimeter=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="87" target="82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.004;entryY=0.667;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#b85450;fillColor=#f8cecc;" parent="1" source="85" target="88" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="95" value="-" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1910" y="410" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="96" value="&lt;h1&gt;CW-MESSAGE-SERVICE&lt;/h1&gt;&lt;div&gt;- Recebe os dados da mensagem&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;- Usuario (Quem Envia)&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;- Grupo (Quem Recebe)&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;- Dados da Mensagem&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Reune as informacoes em uma requisicao para o cw-mqtt-service, que ira enviar a mensagem do usuario&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Armazena por um curto periodo as mensagens para que todos os usuarios quando realizarem a acao da rota /chat/join em determinado grupo, as receba&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3530" y="769" width="360" height="231" as="geometry" />
        </mxCell>
        <mxCell id="99" value="&lt;h1&gt;CW-MESSAGE-SERVICE&lt;/h1&gt;&lt;div&gt;- Recebe os dados da mensagem&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;- Usuario (Quem Envia)&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;- Grupo (Quem Recebe)&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;- Dados da Mensagem&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Reune as informacoes em uma requisicao para o cw-mqtt-service, que ira enviar a mensagem do usuario&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Armazena por um curto periodo as mensagens para que todos os usuarios quando realizarem a acao da rota /chat/join em determinado grupo, as receba&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2140" y="610" width="360" height="231" as="geometry" />
        </mxCell>
        <mxCell id="100" value="&lt;h1&gt;CW-MQTT-GATEWAY&lt;/h1&gt;&lt;div&gt;- Recebe TODAS AS MENSAGENS DAS CONEXOES MQTT&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Reune as informacoes do payload e acao a ser executada pelo usuario, e realiza as chamadas de acordo para o cw-central-service&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Toda nova acao de interacao do usuaria deve ser devidamente implementada neste servico para o repasse correto de informacoes&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Pode ser melhorado com a adicao de filas de prioridade e o armazenamento de dados de usuarios pre logados...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2130" y="324.5" width="360" height="231" as="geometry" />
        </mxCell>
        <mxCell id="101" value="&lt;h1&gt;CW-AUTH-SERVICE&lt;/h1&gt;&lt;div&gt;- Recebe requisicoes relacionadas ao acesso do usuario ao sistema, como cadastro de novos usuarios, login.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Realiza sua funcoes aliado do keycloak, implementado tecnicas de OAuth2.0&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2130" y="860" width="360" height="231" as="geometry" />
        </mxCell>
        <mxCell id="103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="102" target="82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="102" value="&lt;br&gt;&lt;pre style=&quot;border-color: var(--border-color); color: rgb(62, 63, 63); font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/esp_id/session_id/chat&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;- {&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;    action=&lt;span style=&quot;border-color: var(--border-color); color: rgb(131, 115, 31);&quot;&gt;&quot;join&quot;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(131, 115, 31);&quot;&gt;    &lt;/span&gt;token=&lt;span style=&quot;border-color: var(--border-color); color: rgb(131, 115, 31);&quot;&gt;&quot;&quot;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(131, 115, 31);&quot;&gt;    &lt;/span&gt;group=&lt;span style=&quot;border-color: var(--border-color); color: rgb(131, 115, 31);&quot;&gt;&quot;group_id&quot;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;/span&gt;}   &lt;/pre&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1170" y="547" width="240" height="263" as="geometry" />
        </mxCell>
        <mxCell id="105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="104">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1670" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="104" value="&lt;div style=&quot;background-color:#e2e2e2;color:#3e3f3f&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9,8pt;&quot;&gt;&lt;pre style=&quot;border-color: var(--border-color); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/cw-mqtt-gateway/chat/join&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;- {&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;    username=&quot;Teste&quot;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;    group=&quot;group_id&quot;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(131, 115, 31);&quot;&gt;    &lt;/span&gt;updated_at=&lt;span style=&quot;border-color: var(--border-color); color: rgb(131, 115, 31);&quot;&gt;&quot;DATA DA ULTIMA ENTRADA DO USUARIO (UsersGroups.updated_at)&quot;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;/span&gt;}&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1660" y="950" width="240" height="193" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
